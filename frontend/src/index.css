@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Modern Blue Color Palette */
    --primary-color: 59 130 246;
    --primary-hover: 37 99 235;
    --primary-light: 219 234 254;
    --accent-color: 99 102 241;

    /* Light theme backgrounds - Sky blue tinted */
    --bg-primary: 240 249 255;
    --bg-secondary: 224 242 254;
    --bg-tertiary: 186 230 253;

    /* Light theme surfaces - Light sky blue */
    --surface-primary: 248 252 255;
    --surface-hover: 240 249 255;

    /* Light theme text */
    --text-primary: 15 23 42;
    --text-secondary: 71 85 105;
    --text-tertiary: 148 163 184;

    /* Borders - Sky blue tinted */
    --border-color: 186 230 253;
    --border-light: 224 242 254;
  }

  .dark {
    /* Dark theme - Deep blue palette */
    --primary-color: 96 165 250;
    --primary-hover: 147 197 253;
    --primary-light: 30 58 138;
    --accent-color: 129 140 248;

    /* Dark theme backgrounds - Deep navy blue */
    --bg-primary: 8 12 30;
    --bg-secondary: 15 23 50;
    --bg-tertiary: 30 41 75;

    /* Dark theme surfaces */
    --surface-primary: 20 30 60;
    --surface-hover: 30 45 85;

    /* Dark theme text - Much brighter for visibility */
    --text-primary: 255 255 255;
    --text-secondary: 248 250 252;
    --text-tertiary: 226 232 240;

    /* Borders */
    --border-color: 51 65 105;
    --border-light: 30 41 75;
  }

  * {
    @apply border-border;
  }

  body {
    @apply antialiased;
    background: rgb(var(--bg-primary));
    color: rgb(var(--text-primary));
    font-feature-settings: "cv11", "ss01";
    font-variation-settings: "opsz" 32;
  }

  /* Dark mode body with gradient */
  .dark body {
    background: linear-gradient(
      180deg,
      rgb(8, 12, 30) 0%,
      rgb(15, 23, 50) 100%
    );
    min-height: 100vh;
  }
}

@layer utilities {
  /* Glassmorphism utilities - Light mode with sky blue */
  .glass {
    background: rgba(240, 249, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(186, 230, 253, 0.5);
    box-shadow: 0 8px 32px 0 rgba(14, 165, 233, 0.1);
  }

  /* Glassmorphism - Dark mode */
  .dark .glass {
    background: rgba(20, 30, 60, 0.6);
    border: 1px solid rgba(96, 165, 250, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
  }

  .glass-dark {
    background: rgba(15, 23, 50, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(96, 165, 250, 0.15);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
  }

  .glass-card {
    background: rgba(248, 252, 255, 0.9);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(186, 230, 253, 0.6);
    box-shadow: 0 8px 32px 0 rgba(14, 165, 233, 0.08);
    @apply rounded-2xl;
  }

  .dark .glass-card {
    background: rgba(20, 30, 60, 0.7);
    border: 1px solid rgba(96, 165, 250, 0.15);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .glass-card:hover {
    background: rgba(248, 252, 255, 0.95);
    box-shadow: 0 12px 40px 0 rgba(14, 165, 233, 0.15);
    transform: translateY(-2px);
    @apply transition-all duration-300;
  }

  .dark .glass-card:hover {
    background: rgba(30, 45, 85, 0.8);
    box-shadow: 0 12px 40px 0 rgba(96, 165, 250, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  /* Enhanced hover effects */
  .hover-lift {
    @apply transition-all duration-300;
  }

  .hover-lift:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 40px rgba(14, 165, 233, 0.2);
  }

  .dark .hover-lift:hover {
    box-shadow: 0 20px 40px rgba(96, 165, 250, 0.15);
  }

  .hover-glow {
    @apply transition-all duration-300;
  }

  .hover-glow:hover {
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
  }

  .dark .hover-glow:hover {
    box-shadow: 0 0 30px rgba(96, 165, 250, 0.3);
  }

  .hover-tilt {
    @apply transition-all duration-300;
    transform-style: preserve-3d;
  }

  .hover-tilt:hover {
    transform: perspective(1000px) rotateX(2deg) rotateY(2deg);
  }

  /* Stagger animation utilities */
  .stagger-item {
    animation: fadeInUp 0.5s ease-out backwards;
  }

  .stagger-item:nth-child(1) {
    animation-delay: 0.05s;
  }
  .stagger-item:nth-child(2) {
    animation-delay: 0.1s;
  }
  .stagger-item:nth-child(3) {
    animation-delay: 0.15s;
  }
  .stagger-item:nth-child(4) {
    animation-delay: 0.2s;
  }
  .stagger-item:nth-child(5) {
    animation-delay: 0.25s;
  }
  .stagger-item:nth-child(6) {
    animation-delay: 0.3s;
  }
  .stagger-item:nth-child(7) {
    animation-delay: 0.35s;
  }
  .stagger-item:nth-child(8) {
    animation-delay: 0.4s;
  }

  .glass-nav {
    background: rgba(240, 249, 255, 0.9);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border-bottom: 1px solid rgba(186, 230, 253, 0.6);
    box-shadow: 0 4px 24px 0 rgba(14, 165, 233, 0.1);
  }

  .dark .glass-nav {
    background: rgba(15, 23, 50, 0.85);
    border-bottom: 1px solid rgba(96, 165, 250, 0.1);
    box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.3);
  }

  .glass-sidebar {
    background: rgba(240, 249, 255, 0.85);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-right: 1px solid rgba(186, 230, 253, 0.5);
    box-shadow: 4px 0 24px 0 rgba(14, 165, 233, 0.08);
  }

  .dark .glass-sidebar {
    background: linear-gradient(
      180deg,
      rgba(15, 23, 50, 0.95) 0%,
      rgba(8, 12, 30, 0.98) 100%
    );
    border-right: 1px solid rgba(96, 165, 250, 0.1);
    box-shadow: 4px 0 24px 0 rgba(0, 0, 0, 0.3);
  }

  .glass-modal {
    background: rgba(248, 252, 255, 0.98);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(186, 230, 253, 0.7);
    box-shadow: 0 16px 48px 0 rgba(14, 165, 233, 0.15);
  }

  .dark .glass-modal {
    background: rgba(20, 30, 60, 0.95);
    border: 1px solid rgba(96, 165, 250, 0.2);
    box-shadow: 0 16px 48px 0 rgba(0, 0, 0, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .glass-overlay {
    background: rgba(14, 165, 233, 0.15);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .dark .glass-overlay {
    background: rgba(0, 0, 0, 0.6);
  }

  .glass-button {
    background: rgba(240, 249, 255, 0.5);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(59, 130, 246, 0.2);
    @apply transition-all duration-200;
  }

  .dark .glass-button {
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid rgba(96, 165, 250, 0.2);
  }

  .glass-button:hover {
    background: rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 16px 0 rgba(59, 130, 246, 0.15);
    transform: translateY(-1px);
  }

  .dark .glass-button:hover {
    background: rgba(96, 165, 250, 0.2);
    box-shadow: 0 4px 16px 0 rgba(96, 165, 250, 0.2);
  }

  /* Card styles with soft shadows */
  .card {
    @apply bg-white rounded-2xl border border-border shadow-card;
  }

  .dark .card {
    background: rgba(20, 30, 60, 0.7);
    border-color: rgba(96, 165, 250, 0.15);
  }

  .card-hover {
    @apply card hover:shadow-card-hover transition-all duration-300;
  }

  /* Smooth transitions */
  .transition-smooth {
    @apply transition-all duration-300 ease-out;
  }

  /* Button styles */
  .btn-primary {
    @apply bg-gradient-primary text-white px-6 py-3 rounded-xl font-medium;
    @apply hover:shadow-large transition-all duration-300;
    @apply relative overflow-hidden;
    @apply active:scale-95 hover:scale-105;
  }

  .btn-primary::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .btn-primary:active::before {
    width: 300px;
    height: 300px;
  }

  .btn-secondary {
    @apply bg-background-secondary text-text-primary px-6 py-3 rounded-xl font-medium;
    @apply hover:bg-background-tertiary transition-all duration-300;
    @apply hover:scale-105 active:scale-95;
  }

  .btn-outline {
    @apply bg-transparent border-2 border-primary text-primary px-6 py-3 rounded-xl font-medium;
    @apply hover:bg-primary hover:text-white transition-all duration-300;
    @apply hover:shadow-lg hover:scale-105 active:scale-95;
  }

  .btn-icon {
    @apply p-2 rounded-lg transition-all duration-200;
    @apply hover:bg-background-secondary hover:scale-110 active:scale-90;
    @apply hover:rotate-12;
  }

  /* Skeleton loaders */
  .skeleton {
    @apply animate-shimmer bg-gradient-to-r from-background-secondary via-background-tertiary to-background-secondary;
    background-size: 1000px 100%;
  }

  /* Badge styles */
  .badge {
    @apply px-3 py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-medical-success/10 text-medical-success border border-medical-success/20;
  }

  .badge-warning {
    @apply badge bg-medical-warning/10 text-medical-warning border border-medical-warning/20;
  }

  .badge-error {
    @apply badge bg-medical-error/10 text-medical-error border border-medical-error/20;
  }

  .badge-info {
    @apply badge bg-medical-info/10 text-medical-info border border-medical-info/20;
  }

  /* Input focus ring */
  .input-focus {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent;
  }
}

/* Scroll bar styling - Light theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-background-secondary;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-400;
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: rgba(15, 23, 50, 0.5);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(96, 165, 250, 0.3);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(96, 165, 250, 0.5);
}

/* Selection color */
::selection {
  @apply bg-primary-200 text-primary-800;
}

.dark ::selection {
  background: rgba(96, 165, 250, 0.3);
  color: #e0e7ff;
}

/* Compact mode styling */
.compact-mode {
  --spacing-multiplier: 0.75;
}

.compact-mode .card,
.compact-mode .card-hover {
  @apply p-3;
}

.compact-mode .btn-primary,
.compact-mode .btn-secondary,
.compact-mode .btn-outline {
  @apply px-4 py-2 text-sm;
}

.compact-mode h1 {
  @apply text-2xl;
}

.compact-mode h2 {
  @apply text-xl;
}

.compact-mode h3 {
  @apply text-lg;
}

.compact-mode .space-y-6 > * + * {
  margin-top: 1rem;
}

.compact-mode .space-y-4 > * + * {
  margin-top: 0.75rem;
}

.compact-mode table td,
.compact-mode table th {
  @apply py-2 px-3;
}
